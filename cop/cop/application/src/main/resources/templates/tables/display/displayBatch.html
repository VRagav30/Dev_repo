<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorator="layout/admin-layout">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>BATCH</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
	crossorigin="anonymous">
</head>
<body>
	<div layout:fragment="content">

		<p>
		<p>
		<form th:action="@{/insertBatch}" method="get">
			<button type="submit" class="btn btn-info" style="float: left;">Add</button>
		</form>
		<br>
		<br>
		<form th:action="@{/searchBatch}" method="get">
			<input type="text" name="keyword" th:value="${keyword}"
				placeholder="Find by Material or Batch" size="50">
			<button type="submit" class="btn btn-info" style="float: right;">Search</button>
			<button type="reset" class="btn btn-info" style="float: right;">Reset</button>
		</form>
		<br>
		<br>
		<div th:if="${message}">
				<h4 style="color: blue" th:text="${message}"></h4>
		</div>
		<div th:if="${error}">
				<h4 style="color: red" th:text="${error}"></h4>
		</div>
		<form method="post" th:action="@{/uploadEntityFile?fileType=Batch}" enctype="multipart/form-data">
		<input type="file" name="file">
			<button type="submit" class="btn btn-info" style="float: left;">Upload</button>
			
		</form>
		<br> <br>
		<form  th:action="@{/downloadBatch}" method="get">
		
			<button  type="submit" class="btn btn-info" style="float: left;">Download</button>
		</form>
		<form method="post" th:action="@{/findBatch}">
			<h1>BATCH</h1>

			<table class="table table-success table-striped">
				<thead>
					<tr>
						<th scope="col">batch</th>
						<th scope="col">batchcosting</th>
						<th scope="col">deletionindicator</th>
						<th scope="col">itemcode</th>
						<th scope="col">orgncode</th>
						<th scope="col">soassignment</th>
						<th scope="col">valfdate</th>
						<th scope="col">valsub</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="bat : ${batches}">
						<td scope="row" th:text=${bat.batch}>-</td>
						<td scope="row" th:text=${bat.batchcosting}>-</td>
						<td scope="row" th:text=${bat.deletionindicator}>-</td>
						<td scope="row" th:text=${bat.itemcode}>-</td>
						<td scope="row" th:text=${bat.orgncode}>-</td>
						<td scope="row" th:text=${bat.soassignment}>-</td>
						<td scope="row" th:text=${bat.valfdate}>-</td>
						<td scope="row" th:text=${bat.valsub}>-</td>
						<td>
							<form></form>
							<form th:action="@{/insertBatch}" th:id="|edit_bat_${bat.batch}|"
								method="post">
								<input type="hidden" name="mode" th:value="edit"> <input
									type="hidden" name="batch" th:value="${bat.batch}"> <input
									type="hidden" name="batchcosting"
									th:value="${bat.batchcosting}"> <input type="hidden"
									name="deleteionindicator" th:value="${bat.deletionindicator}">
								<input type="hidden" name="itemcode" th:value="${bat.itemcode}">
								<input type="hidden" name="soassignment"
									th:value="${bat.soassignment}"> <input type="hidden"
									name="valfate" th:value="${bat.valfdate}"> <input
									type="hidden" name="valsub" th:value="${bat.valsub}"> <a
									href="#" th:data-elementid="|edit_bat_${bat.batch}|"
									th:onclick="|document.getElementById(this.getAttribute('data-elementid')).submit();|"
									class="btn btn-primary a-btn-slide-text"> <span
									class="glyphicon glyphicon-edit" aria-hidden="true"></span></a>

							</form>
						</td>
						<td>
							<form th:action="@{/insertBatch}"
								th:id="|delete_bat_${bat.batch}|" method="post">
								<input type="hidden" name="mode" th:value="delete"> <input
									type="hidden" name="batch" th:value="${bat.batch}"> <a
									href="#" th:data-elementid="|delete_bat_${bat.batch}|"
									th:onclick="|document.getElementById(this.getAttribute('data-elementid')).submit();|"
									class="btn btn-primary a-btn-slide-text"> <span
									class="glyphicon glyphicon-trash" aria-hidden="true"></span>
								</a>
							</form>
						</td>
					</tr>
				</tbody>
			</table>

			<script
				src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
				integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
				crossorigin="anonymous"></script>
		</form>
</body>
</html>